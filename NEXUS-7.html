

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS-7: Interspecies Connection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap');
        
        body {
            font-family: 'Space Mono', monospace;
            background-color: #0a0a14;
            color: #a2f7e7;
            overflow-x: hidden;
        }
        
        .alien-text {
            font-family: 'Space Mono', monospace;
            letter-spacing: -1px;
            transform: scaleY(1.2);
        }
        
        .glitch {
            position: relative;
        }
        
        .glitch::before, .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .glitch::before {
            left: 2px;
            text-shadow: -1px 0 #ff00ff;
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim 5s infinite linear alternate-reverse;
        }
        
        .glitch::after {
            left: -2px;
            text-shadow: -1px 0 #00ffff;
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim2 5s infinite linear alternate-reverse;
        }
        
        @keyframes glitch-anim {
            0% { clip: rect(86px, 9999px, 14px, 0); }
            10% { clip: rect(54px, 9999px, 97px, 0); }
            20% { clip: rect(17px, 9999px, 36px, 0); }
            30% { clip: rect(37px, 9999px, 56px, 0); }
            40% { clip: rect(68px, 9999px, 86px, 0); }
            50% { clip: rect(13px, 9999px, 56px, 0); }
            60% { clip: rect(24px, 9999px, 32px, 0); }
            70% { clip: rect(67px, 9999px, 90px, 0); }
            80% { clip: rect(24px, 9999px, 72px, 0); }
            90% { clip: rect(38px, 9999px, 43px, 0); }
            100% { clip: rect(11px, 9999px, 46px, 0); }
        }
        
        @keyframes glitch-anim2 {
            0% { clip: rect(59px, 9999px, 99px, 0); }
            10% { clip: rect(76px, 9999px, 35px, 0); }
            20% { clip: rect(23px, 9999px, 67px, 0); }
            30% { clip: rect(82px, 9999px, 33px, 0); }
            40% { clip: rect(10px, 9999px, 8px, 0); }
            50% { clip: rect(37px, 9999px, 56px, 0); }
            60% { clip: rect(66px, 9999px, 75px, 0); }
            70% { clip: rect(43px, 9999px, 70px, 0); }
            80% { clip: rect(51px, 9999px, 69px, 0); }
            90% { clip: rect(83px, 9999px, 44px, 0); }
            100% { clip: rect(94px, 9999px, 11px, 0); }
        }
        
        .tri-scroll {
            position: relative;
            height: 120px;
            width: 120px;
            margin: 0 auto;
        }
        
        .tri-scroll::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 2px solid rgba(162, 247, 231, 0.3);
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }
        
        .circular-swipe {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(10,10,20,1) 0%, rgba(10,10,20,0) 70%);
            border: 1px solid rgba(162, 247, 231, 0.3);
            position: relative;
            margin: 0 auto;
        }
        
        .circular-swipe::after {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid transparent;
            border-top: 2px solid #a2f7e7;
            animation: rotate 4s linear infinite;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .distorted-img {
            filter: hue-rotate(180deg) blur(1px) contrast(1.2);
            animation: distort 8s infinite alternate;
        }
        
        @keyframes distort {
            0% { filter: hue-rotate(180deg) blur(1px) contrast(1.2); }
            25% { filter: hue-rotate(220deg) blur(2px) contrast(1.3) brightness(1.1); }
            50% { filter: hue-rotate(200deg) blur(1.5px) contrast(1.4) brightness(0.9); }
            75% { filter: hue-rotate(240deg) blur(2.5px) contrast(1.2) brightness(1.2); }
            100% { filter: hue-rotate(190deg) blur(1px) contrast(1.5); }
        }
        
        .alien-slider {
            -webkit-appearance: none;
            height: 2px;
            background: linear-gradient(90deg, #a2f7e7, #ff00ff);
            outline: none;
            cursor: pointer;
        }
        
        .alien-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 15px;
            height: 15px;
            background: #a2f7e7;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            cursor: pointer;
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: rgba(10, 10, 20, 0.9);
            color: #a2f7e7;
            text-align: center;
            border: 1px solid #a2f7e7;
            padding: 5px;
            position: absolute;
            z-index: 10;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.7rem;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        .screen {
            display: none;
        }
        
        .active {
            display: block;
        }
        
        .alien-button {
            background-color: rgba(162, 247, 231, 0.1);
            border: 1px solid #a2f7e7;
            color: #a2f7e7;
            padding: 8px 16px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .alien-button:hover {
            background-color: rgba(162, 247, 231, 0.2);
        }
        
        .alien-button::after {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(162, 247, 231, 0.2), transparent);
            transition: 0.5s;
        }
        
        .alien-button:hover::after {
            left: 100%;
        }
        
        .scent-selector {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 5px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .scent-selector::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70%;
            height: 70%;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
        }
        
        .scent-selector:hover {
            transform: scale(1.1);
        }
        
        .scent-selector.selected {
            transform: scale(1.1);
        }
        
        .vibration-tone {
            width: 30px;
            height: 30px;
            margin: 0 5px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .vibration-tone:hover {
            transform: scale(1.1);
        }
        
        .match-card {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.5s forwards;
        }
        
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .dropdown {
            position: absolute;
            right: 0;
            top: 100%;
            width: 200px;
            background-color: #0f0f1a;
            border: 1px solid rgba(162, 247, 231, 0.3);
            border-radius: 4px;
            z-index: 50;
            opacity: 0;
            transform: translateY(-10px);
            visibility: hidden;
            transition: opacity 0.3s, transform 0.3s, visibility 0.3s;
        }
        
        .dropdown.active {
            opacity: 1;
            transform: translateY(0);
            visibility: visible;
        }
        
        .dropdown-item {
            padding: 10px 15px;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
        }
        
        .dropdown-item:hover {
            background-color: rgba(162, 247, 231, 0.1);
        }
        
        .dropdown-item svg {
            margin-right: 10px;
        }
        
        .panel {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100%;
            background-color: #0f0f1a;
            border-left: 1px solid rgba(162, 247, 231, 0.3);
            z-index: 100;
            transition: right 0.3s ease;
            overflow-y: auto;
        }
        
        .panel.active {
            right: 0;
        }
        
        .panel-header {
            padding: 15px;
            border-bottom: 1px solid rgba(162, 247, 231, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .panel-content {
            padding: 15px;
        }
        
        .chat-item, .request-item {
            padding: 10px;
            border-bottom: 1px solid rgba(162, 247, 231, 0.1);
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .chat-item:hover, .request-item:hover {
            background-color: rgba(162, 247, 231, 0.05);
        }
        
        .chat-avatar, .request-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 10px;
            border: 1px solid rgba(162, 247, 231, 0.3);
        }
        
        .chat-info, .request-info {
            flex: 1;
        }
        
        .chat-name, .request-name {
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .chat-preview {
            font-size: 0.8rem;
            color: rgba(162, 247, 231, 0.7);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 180px;
        }
        
        .chat-time, .request-time {
            font-size: 0.7rem;
            color: rgba(162, 247, 231, 0.5);
        }
        
        .request-status {
            font-size: 0.8rem;
            color: #ff00ff;
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 90;
            display: none;
        }
        
        .overlay.active {
            display: block;
        }
        
        /* Mobile responsiveness */
        @media (max-width: 640px) {
            .scent-selector {
                width: 40px;
                height: 40px;
            }
            
            .vibration-tone {
                width: 25px;
                height: 25px;
            }
            
            .panel {
                width: 280px;
            }
        }
    </style>
</head>
<body>
    <div class="container mx-auto px-4 py-8 max-w-md">
        <!-- Login Screen -->
        <div id="login-screen" class="screen active">
            <div class="flex flex-col items-center justify-center min-h-screen">
                <div class="w-full max-w-md bg-[#0f0f1a] p-8 rounded-lg border border-[#a2f7e7]/30">
                    <div class="text-center mb-8">
                        <h1 class="text-3xl font-bold glitch" data-text="NEXUS-7">NEXUS-7</h1>
                        <p class="text-sm text-[#a2f7e7]/70 mt-2">Interspecies Connection Protocol v9.7.3</p>
                    </div>
                    
                    <div class="mb-6">
                        <label class="block text-xs mb-2 alien-text">&#x2732;&#x25CB;&#x2316;&#x25A3;&#x2609; ID</label>
                        <input type="text" class="w-full bg-[#0a0a14] border border-[#a2f7e7]/30 p-3 rounded-md text-[#a2f7e7] focus:outline-none focus:border-[#a2f7e7]" placeholder="Entity Designation">
                    </div>
                    
                    <div class="mb-6">
                        <label class="block text-xs mb-2 alien-text">&#x25CE;&#x2318;&#x2756;&#x25C9;&#x2606; CODE</label>
                        <input type="password" class="w-full bg-[#0a0a14] border border-[#a2f7e7]/30 p-3 rounded-md text-[#a2f7e7] focus:outline-none focus:border-[#a2f7e7]" placeholder="Consciousness Key">
                    </div>
                    
                    <div class="mb-6">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <input type="checkbox" class="mr-2 bg-[#0a0a14] border border-[#a2f7e7]/30">
                                <span class="text-xs">Remember this vessel</span>
                            </div>
                            <a href="#" class="text-xs text-[#ff00ff] hover:text-[#ff00ff]/80">Reset biometric key?</a>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <button id="login-button" class="w-full alien-button py-3 rounded-md">
                            <span class="alien-text">&#x25CB;&#x2316;&#x25A3;&#x2609;&#x25CE;&#x2318;</span> CONNECT
                        </button>
                    </div>
                    
                    <div class="text-center text-xs text-[#a2f7e7]/50">
                        <p class="tooltip">
                            By connecting, you agree to our Interspecies Terms
                            <span class="tooltip-text">User acknowledges potential incompatibility with this planet's atmosphere, gravity, and temporal flow. NEXUS-7 is not responsible for molecular destabilization.</span>
                        </p>
                    </div>
                </div>
                
                <div class="mt-4 text-[0.6rem] text-[#a2f7e7]/30 max-w-xs text-center">
                    <p>NEXUS-7 complies with Galactic Treaty 5721-B. Not available in Sector ZX-9. Void where prohibited by hive consciousness.</p>
                </div>
            </div>
        </div>
        
        <!-- Profile Screen -->
        <div id="profile-screen" class="screen">
            <div class="flex flex-col min-h-screen">
                <header class="py-4 border-b border-[#a2f7e7]/20">
                    <div class="flex justify-between items-center">
                        <button id="logout-button" class="text-[#a2f7e7]/70">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h2 class="text-xl font-bold">Your Essence</h2>
                        <button id="to-matches-button" class="text-[#a2f7e7]/70">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                    </div>
                </header>
                
                <div class="flex-1 py-6 overflow-y-auto">
                    <div class="relative mb-8">
                        <div class="w-32 h-32 mx-auto rounded-full overflow-hidden border-2 border-[#a2f7e7]/50">
                            <svg id="user-avatar" class="w-full h-full distorted-img" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                <defs>
                                    <radialGradient id="alienGradient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
                                        <stop offset="0%" stop-color="#a2f7e7" />
                                        <stop offset="100%" stop-color="#0a0a14" />
                                    </radialGradient>
                                    <filter id="noise">
                                        <feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/>
                                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.5 0"/>
                                        <feComposite operator="in" in2="SourceGraphic" result="monoNoise"/>
                                        <feBlend in="SourceGraphic" in2="monoNoise" mode="multiply" />
                                    </filter>
                                </defs>
                                <circle cx="50" cy="50" r="40" fill="url(#alienGradient)" filter="url(#noise)"/>
                                <ellipse cx="40" cy="40" rx="8" ry="12" fill="#a2f7e7" opacity="0.7" transform="rotate(-15)"/>
                                <ellipse cx="60" cy="40" rx="8" ry="12" fill="#a2f7e7" opacity="0.7" transform="rotate(15)"/>
                                <path d="M40,65 Q50,75 60,65" stroke="#a2f7e7" stroke-width="2" fill="none"/>
                            </svg>
                        </div>
                        <div class="absolute top-0 right-0 left-0 bottom-0 flex items-center justify-center opacity-30">
                            <div class="w-40 h-40 border border-[#a2f7e7]/20 rounded-full animate-ping"></div>
                        </div>
                    </div>
                    
                    <div class="text-center mb-6">
                        <h3 class="text-xl font-bold">Zyx'taar-7</h3>
                        <p class="text-sm text-[#a2f7e7]/70">Carbon-based • 247 cycles • Bipedal</p>
                        <div class="tooltip mt-1">
                            <span class="text-xs text-[#ff00ff]">Cloaking Active</span>
                            <span class="tooltip-text">Your true form is concealed from incompatible species. Revealing your actual appearance may cause psychological damage to primitive lifeforms.</span>
                        </div>
                    </div>
                    
                    <div class="bg-[#0f0f1a] p-6 rounded-lg border border-[#a2f7e7]/20 mb-6">
                        <h4 class="text-sm font-bold mb-4">Compatibility Parameters</h4>
                        
                        <div class="mb-4">
                            <div class="flex justify-between text-xs mb-1">
                                <span>Telepathic Compatibility</span>
                                <span id="telepathic-value">73%</span>
                            </div>
                            <input type="range" class="alien-slider w-full" id="telepathic-slider" min="0" max="100" value="73">
                            <div class="text-[0.6rem] text-[#a2f7e7]/50 mt-1 tooltip">
                                <span id="telepathic-description">Moderate thought-mesh capability</span>
                                <span class="tooltip-text">Warning: Telepathic bonding with incompatible species may result in memory leakage and identity dissolution.</span>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <div class="flex justify-between text-xs mb-1">
                                <span>Spore Emission Sync</span>
                                <span id="spore-value">89%</span>
                            </div>
                            <input type="range" class="alien-slider w-full" id="spore-slider" min="0" max="100" value="89">
                            <div class="text-[0.6rem] text-[#a2f7e7]/50 mt-1 tooltip">
                                <span id="spore-description">High reproductive harmony</span>
                                <span class="tooltip-text">Spore emission may cause rapid colonization of host planet. Consent from planetary governing bodies recommended.</span>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <div class="flex justify-between text-xs mb-1">
                                <span>Dimensional Resonance</span>
                                <span id="dimensional-value">42%</span>
                            </div>
                            <input type="range" class="alien-slider w-full" id="dimensional-slider" min="0" max="100" value="42">
                            <div class="text-[0.6rem] text-[#a2f7e7]/50 mt-1 tooltip">
                                <span id="dimensional-description">Limited phase-shifting ability</span>
                                <span class="tooltip-text">Low resonance may cause temporal displacement during intimate encounters. Time-loss insurance recommended.</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-[#0f0f1a] p-6 rounded-lg border border-[#a2f7e7]/20 mb-6">
                        <h4 class="text-sm font-bold mb-4">Sensory Preferences</h4>
                        
                        <div class="mb-4">
                            <p class="text-xs mb-2">Scent Profile</p>
                            <div class="flex justify-between" id="scent-selectors">
                                <div class="scent-selector bg-[#ff00ff]/30" data-scent="Methane" data-color="#ff00ff"></div>
                                <div class="scent-selector bg-[#00ffff]/30" data-scent="Ozone" data-color="#00ffff"></div>
                                <div class="scent-selector bg-[#ffff00]/30" data-scent="Sulfur" data-color="#ffff00"></div>
                                <div class="scent-selector bg-[#00ff00]/30" data-scent="Ammonia" data-color="#00ff00"></div>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <p class="text-xs mb-2">Vibration Tones</p>
                            <div class="flex justify-between">
                                <div class="vibration-tone">
                                    <svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">
                                        <rect x="5" y="10" width="2" height="10" fill="#a2f7e7"/>
                                        <rect x="10" y="5" width="2" height="20" fill="#a2f7e7"/>
                                        <rect x="15" y="8" width="2" height="14" fill="#a2f7e7"/>
                                        <rect x="20" y="12" width="2" height="6" fill="#a2f7e7"/>
                                        <rect x="25" y="10" width="2" height="10" fill="#a2f7e7"/>
                                    </svg>
                                </div>
                                <div class="vibration-tone">
                                    <svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">
                                        <rect x="5" y="13" width="2" height="4" fill="#a2f7e7"/>
                                        <rect x="10" y="10" width="2" height="10" fill="#a2f7e7"/>
                                        <rect x="15" y="5" width="2" height="20" fill="#a2f7e7"/>
                                        <rect x="20" y="10" width="2" height="10" fill="#a2f7e7"/>
                                        <rect x="25" y="13" width="2" height="4" fill="#a2f7e7"/>
                                    </svg>
                                </div>
                                <div class="vibration-tone">
                                    <svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">
                                        <rect x="5" y="5" width="2" height="20" fill="#a2f7e7"/>
                                        <rect x="10" y="10" width="2" height="10" fill="#a2f7e7"/>
                                        <rect x="15" y="13" width="2" height="4" fill="#a2f7e7"/>
                                        <rect x="20" y="10" width="2" height="10" fill="#a2f7e7"/>
                                        <rect x="25" y="5" width="2" height="20" fill="#a2f7e7"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-[#0f0f1a] p-6 rounded-lg border border-[#a2f7e7]/20">
                        <h4 class="text-sm font-bold mb-4">About My Essence</h4>
                        <textarea id="bio-text" class="w-full bg-[#0a0a14] border border-[#a2f7e7]/30 p-3 rounded-md text-[#a2f7e7] focus:outline-none focus:border-[#a2f7e7] h-24 mb-4" placeholder="Describe your essence...">Seeking compatible entity for mutual resource exchange and potential genetic merger. Enjoys nebula gazing, quantum fluctuations, and silent void contemplation.

Prefers carbon-based lifeforms with minimal appendages. No hive minds please—had a bad experience.</textarea>
                        
                        <div class="mt-4 text-[0.6rem] text-[#a2f7e7]/50 tooltip">
                            <span>Last molecular recalibration: 3 cycles ago</span>
                            <span class="tooltip-text">User may not be biologically compatible with this planet's atmosphere. Encounters should occur in neutral-pressure environments.</span>
                        </div>
                    </div>
                </div>
                
                <div class="py-4 border-t border-[#a2f7e7]/20">
                    <button id="find-matches-button" class="w-full alien-button py-3 rounded-md">
                        <span class="alien-text">&#x25CB;&#x2316;&#x25A3;&#x2609;&#x25CE;</span> FIND COMPATIBLE ENTITIES
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Matches Screen -->
        <div id="matches-screen" class="screen">
            <div class="flex flex-col min-h-screen">
                <header class="py-4 border-b border-[#a2f7e7]/20">
                    <div class="flex justify-between items-center">
                        <button id="back-to-profile-button" class="text-[#a2f7e7]/70">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h2 class="text-xl font-bold">Potential Mergers</h2>
                        <div class="relative">
                            <button id="menu-button" class="text-[#a2f7e7]/70">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
                                </svg>
                            </button>
                            
                            <!-- Dropdown Menu -->
                            <div id="dropdown-menu" class="dropdown">
                                <div class="dropdown-item" id="chats-option">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="#a2f7e7">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                    </svg>
                                    Chats
                                </div>
                                <div class="dropdown-item" id="requests-option">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="#a2f7e7">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                                    </svg>
                                    Connection Requests
                                </div>
                            </div>
                        </div>
                    </div>
                </header>
                
                <div class="flex-1 py-6 overflow-y-auto">
                    <div class="mb-6">
                        <div class="tri-scroll mb-1"></div>
                        <p class="text-center text-xs text-[#a2f7e7]/70">Tri-directional scroll to navigate entities</p>
                    </div>
                    
                    <div id="match-container">
                        <!-- Match cards will be generated here -->
                    </div>
                    
                    <div class="circular-swipe mb-4 mt-6"></div>
                    <p class="text-center text-xs text-[#a2f7e7]/70">Circular swipe to discover more entities</p>
                </div>
                
                <div class="py-4 border-t border-[#a2f7e7]/20">
                    <div class="text-[0.6rem] text-center text-[#a2f7e7]/50 mb-4 tooltip">
                        <span>Quantum entanglement active. Matches are being observed across multiple realities.</span>
                        <span class="tooltip-text">Warning: Interaction with entities from parallel dimensions may cause timeline disruption. NEXUS-7 is not responsible for paradoxes or causal loops.</span>
                    </div>
                    <button id="expand-search-button" class="w-full alien-button py-3 rounded-md">
                        <span class="alien-text">&#x25CE;&#x2318;&#x2756;&#x25C9;</span> EXPAND SEARCH PARAMETERS
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Chats Panel -->
        <div id="chats-panel" class="panel">
            <div class="panel-header">
                <h3 class="text-lg font-bold">Telepathic Channels</h3>
                <button id="close-chats-panel" class="text-[#a2f7e7]/70">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="panel-content" id="chats-container">
                <!-- Chat items will be generated here -->
            </div>
        </div>
        
        <!-- Connection Requests Panel -->
        <div id="requests-panel" class="panel">
            <div class="panel-header">
                <h3 class="text-lg font-bold">Connection Requests</h3>
                <button id="close-requests-panel" class="text-[#a2f7e7]/70">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="panel-content" id="requests-container">
                <!-- Request items will be generated here -->
            </div>
        </div>
        
        <!-- Overlay -->
        <div id="overlay" class="overlay"></div>
    </div>
    
    <script>
        // Store user profile data
        const userProfile = {
            name: "Zyx'taar-7",
            type: "Carbon-based",
            cycles: 247,
            form: "Bipedal",
            telepathic: 73,
            spore: 89,
            dimensional: 42,
            selectedScent: null,
            bio: "Seeking compatible entity for mutual resource exchange and potential genetic merger. Enjoys nebula gazing, quantum fluctuations, and silent void contemplation.\n\nPrefers carbon-based lifeforms with minimal appendages. No hive minds please—had a bad experience."
        };
        
        // Store connection requests
        const connectionRequests = [];
        
        // Store chats
        const chats = [];
        
        // Alien name generator
        const namePrefix = ["Zyx", "Kree", "Vox", "Qua", "Nyx", "Tril", "Xen", "Plex", "Grav", "Flux"];
        const nameSuffix = ["'taar", "'lax", "'uum", "'zor", "'nix", "'plex", "'thep", "'mox", "'vex", "'dron"];
        const nameNumber = ["-7", "-9", "-3", "-12", "-X", "-Ω", "-0", "-∞", "-Δ", "-π"];
        
        // Alien types
        const types = ["Carbon-based", "Silicon-based", "Plasma-based", "Quantum-based", "Crystalline", "Gaseous", "Liquid", "Energy", "Photonic", "Antimatter"];
        const forms = ["Bipedal", "Amorphous", "Gaseous", "Crystalline", "Tentacular", "Hive-mind", "Polycorporeal", "Spectral", "Metamorphic", "Hyperdimensional"];
        const cycles = [76, 247, 1203, 42, 890, 3, 5721, 109, 666, 1337];
        
        // Colors for alien profiles
        const colors = ["#ff00ff", "#00ffff", "#ffff00", "#00ff00", "#ff5500", "#aa00ff", "#00aaff", "#ff0066", "#66ff00", "#ff00aa"];
        
        // Chat messages
        const chatMessages = [
            "Greetings. Your molecular structure intrigues me.",
            "Have you considered a merger of consciousness?",
            "My spore emissions are compatible with your receptor sites.",
            "I find your gravitational field most attractive.",
            "Would you like to share nutrient absorption techniques?",
            "Your telepathic frequency resonates with my neural pathways.",
            "I've been observing you across multiple dimensions.",
            "My hive approves of your genetic potential.",
            "Your carbon-based form is aesthetically pleasing to my sensory organs.",
            "Shall we synchronize our temporal existence patterns?"
        ];
        
        // Request statuses
        const requestStatuses = [
            "Pending",
            "Analyzing compatibility",
            "Awaiting response",
            "Processing",
            "Quantum verification"
        ];
        
        // Generate random alien
        function generateAlien(index) {
            const name = namePrefix[Math.floor(Math.random() * namePrefix.length)] + 
                        nameSuffix[Math.floor(Math.random() * nameSuffix.length)] + 
                        nameNumber[Math.floor(Math.random() * nameNumber.length)];
            
            const type = types[Math.floor(Math.random() * types.length)];
            const form = forms[Math.floor(Math.random() * forms.length)];
            const cycle = cycles[Math.floor(Math.random() * cycles.length)];
            const color = colors[index % colors.length];
            
            // Calculate compatibility based on user profile
            const telepathicComp = Math.floor(Math.random() * 40) + Math.floor(userProfile.telepathic / 2);
            const sporeComp = Math.floor(Math.random() * 40) + Math.floor(userProfile.spore / 2);
            
            // Overall match percentage
            const matchPercentage = Math.floor((telepathicComp + sporeComp) / 2);
            
            return {
                name,
                type,
                form,
                cycle,
                color,
                telepathicComp,
                sporeComp,
                matchPercentage
            };
        }
        
        // Generate alien SVG
        function generateAlienSVG(color) {
            // Create random features for the alien
            const eyeType = Math.floor(Math.random() * 4);
            const mouthType = Math.floor(Math.random() * 3);
            const extraFeature = Math.floor(Math.random() * 4);
            
            let eyesSVG = '';
            let mouthSVG = '';
            let extraSVG = '';
            
            // Generate eyes
            switch(eyeType) {
                case 0:
                    // Two elliptical eyes
                    eyesSVG = `
                        <ellipse cx="40" cy="35" rx="5" ry="5" fill="${color}" opacity="0.7"/>
                        <ellipse cx="60" cy="35" rx="5" ry="5" fill="${color}" opacity="0.7"/>
                    `;
                    break;
                case 1:
                    // One large central eye
                    eyesSVG = `
                        <ellipse cx="50" cy="40" rx="15" ry="10" fill="${color}" opacity="0.7"/>
                    `;
                    break;
                case 2:
                    // Three small eyes
                    eyesSVG = `
                        <ellipse cx="35" cy="35" rx="4" ry="4" fill="${color}" opacity="0.7"/>
                        <ellipse cx="50" cy="30" rx="4" ry="4" fill="${color}" opacity="0.7"/>
                        <ellipse cx="65" cy="35" rx="4" ry="4" fill="${color}" opacity="0.7"/>
                    `;
                    break;
                case 3:
                    // Horizontal eye slits
                    eyesSVG = `
                        <rect x="35" y="35" width="10" height="2" fill="${color}" opacity="0.7"/>
                        <rect x="55" y="35" width="10" height="2" fill="${color}" opacity="0.7"/>
                    `;
                    break;
            }
            
            // Generate mouth
            switch(mouthType) {
                case 0:
                    // Simple line
                    mouthSVG = `
                        <path d="M40,60 Q50,65 60,60" stroke="${color}" stroke-width="2" fill="none"/>
                    `;
                    break;
                case 1:
                    // Oval shape
                    mouthSVG = `
                        <ellipse cx="50" cy="60" rx="10" ry="5" fill="${color}" opacity="0.7"/>
                    `;
                    break;
                case 2:
                    // Zigzag
                    mouthSVG = `
                        <path d="M40,60 L45,62 L50,60 L55,62 L60,60" stroke="${color}" stroke-width="2" fill="none"/>
                    `;
                    break;
            }
            
            // Generate extra feature
            switch(extraFeature) {
                case 0:
                    // Antenna
                    extraSVG = `
                        <path d="M50,20 Q45,10 40,5" stroke="${color}" stroke-width="2" fill="none"/>
                        <path d="M50,20 Q55,10 60,5" stroke="${color}" stroke-width="2" fill="none"/>
                        <circle cx="40" cy="5" r="2" fill="${color}"/>
                        <circle cx="60" cy="5" r="2" fill="${color}"/>
                    `;
                    break;
                case 1:
                    // Halo/crown
                    extraSVG = `
                        <path d="M30,30 Q50,10 70,30" stroke="${color}" stroke-width="2" fill="none"/>
                        <circle cx="30" cy="30" r="2" fill="${color}"/>
                        <circle cx="50" cy="15" r="2" fill="${color}"/>
                        <circle cx="70" cy="30" r="2" fill="${color}"/>
                    `;
                    break;
                case 2:
                    // Spots/freckles
                    extraSVG = `
                        <circle cx="35" cy="45" r="1" fill="${color}"/>
                        <circle cx="45" cy="50" r="1" fill="${color}"/>
                        <circle cx="55" cy="45" r="1" fill="${color}"/>
                        <circle cx="65" cy="50" r="1" fill="${color}"/>
                        <circle cx="40" cy="55" r="1" fill="${color}"/>
                        <circle cx="60" cy="55" r="1" fill="${color}"/>
                    `;
                    break;
                case 3:
                    // Nothing extra
                    extraSVG = '';
                    break;
            }
            
            // Create the full SVG
            return `
                <svg class="w-full h-full distorted-img" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <radialGradient id="alienGradient${Math.random()}" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
                            <stop offset="0%" stop-color="${color}" />
                            <stop offset="100%" stop-color="#0a0a14" />
                        </radialGradient>
                        <filter id="noise${Math.random()}">
                            <feTurbulence type="fractalNoise" baseFrequency="${0.65 + Math.random() * 0.3}" numOctaves="3" stitchTiles="stitch"/>
                            <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.5 0"/>
                            <feComposite operator="in" in2="SourceGraphic" result="monoNoise"/>
                            <feBlend in="SourceGraphic" in2="monoNoise" mode="multiply" />
                        </filter>
                    </defs>
                    <circle cx="50" cy="50" r="40" fill="url(#alienGradient${Math.random()})" filter="url(#noise${Math.random()})"/>
                    ${eyesSVG}
                    ${mouthSVG}
                    ${extraSVG}
                </svg>
            `;
        }
        
        // Generate match card HTML
        function createMatchCard(alien, delay) {
            const card = document.createElement('div');
            card.className = `bg-[#0f0f1a] p-6 rounded-lg border border-[#a2f7e7]/20 mb-6 match-card`;
            card.style.animationDelay = `${delay * 0.1}s`;
            
            card.innerHTML = `
                <div class="flex items-start">
                    <div class="w-20 h-20 rounded-lg overflow-hidden border border-[${alien.color}]/50 mr-4">
                        ${generateAlienSVG(alien.color)}
                    </div>
                    <div class="flex-1">
                        <h3 class="text-lg font-bold">${alien.name}</h3>
                        <p class="text-xs text-[#a2f7e7]/70">${alien.type} • ${alien.cycle} cycles • ${alien.form}</p>
                        <div class="flex items-center mt-2">
                            <div class="bg-[${alien.color}]/20 text-[${alien.color}] text-xs px-2 py-1 rounded-full mr-2">${alien.matchPercentage}% Match</div>
                            <div class="tooltip">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-[#a2f7e7]/50" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                <span class="tooltip-text">${getRandomTooltip(alien)}</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-4">
                    <div class="flex justify-between text-xs mb-1">
                        <span>Telepathic Compatibility</span>
                        <span>${alien.telepathicComp}%</span>
                    </div>
                    <div class="w-full h-2 bg-[#0a0a14] rounded-full overflow-hidden">
                        <div class="h-full bg-[${alien.color}]/50 rounded-full" style="width: ${alien.telepathicComp}%"></div>
                    </div>
                </div>
                
                <div class="mt-3">
                    <div class="flex justify-between text-xs mb-1">
                        <span>Spore Emission Sync</span>
                        <span>${alien.sporeComp}%</span>
                    </div>
                    <div class="w-full h-2 bg-[#0a0a14] rounded-full overflow-hidden">
                        <div class="h-full bg-[${alien.color}]/50 rounded-full" style="width: ${alien.sporeComp}%"></div>
                    </div>
                </div>
                
                <div class="mt-4 flex justify-between">
                    <button class="alien-button rounded-full px-4 py-2 text-xs reject-button">
                        <span class="alien-text">&#x25CB;&#x2316;</span> REJECT
                    </button>
                    <button class="alien-button rounded-full px-4 py-2 text-xs bg-[${alien.color}]/20 border-[${alien.color}] connect-button" data-alien='${JSON.stringify(alien)}'>
                        <span class="alien-text">&#x25A3;&#x2609;</span> CONNECT
                    </button>
                </div>
            `;
            
            return card;
        }
        
        // Random tooltips for alien profiles
        function getRandomTooltip(alien) {
            const tooltips = [
                `Entity requires ${alien.type === "Gaseous" ? "solid" : "gaseous"} atmosphere. Communication may require neural interface.`,
                `${alien.form} entities are known to shift between phases during emotional moments.`,
                `Entity exists in multiple dimensions simultaneously. Time perception may vary.`,
                `Warning: ${alien.name} species known for consuming memories as sustenance.`,
                `Compatibility may be affected by local gravitational anomalies.`,
                `Entity's reproductive cycle involves temporary host inhabitation.`,
                `This species communicates primarily through pheromone bursts and color shifts.`,
                `Caution: May spontaneously phase through solid matter when startled.`,
                `Entity requires regular exposure to specific radiation frequencies.`,
                `This species forms temporary telepathic bonds during close proximity.`
            ];
            
            return tooltips[Math.floor(Math.random() * tooltips.length)];
        }
        
        // Generate all match cards
        function generateMatches() {
            const matchContainer = document.getElementById('match-container');
            matchContainer.innerHTML = '';
            
            for (let i = 0; i < 10; i++) {
                const alien = generateAlien(i);
                const card = createMatchCard(alien, i);
                matchContainer.appendChild(card);
                
                // Add event listeners to buttons
                const rejectButton = card.querySelector('.reject-button');
                const connectButton = card.querySelector('.connect-button');
                
                rejectButton.addEventListener('click', function() {
                    card.style.opacity = '0';
                    card.style.transform = 'translateX(-100%)';
                    card.style.transition = 'all 0.5s ease';
                    setTimeout(() => {
                        card.remove();
                    }, 500);
                });
                
                connectButton.addEventListener('click', function() {
                    // Add to connection requests
                    connectionRequests.push({
                        alien: alien,
                        status: requestStatuses[Math.floor(Math.random() * requestStatuses.length)],
                        time: new Date()
                    });
                    // Update requests panel
                    updateRequestsPanel();
                    card.style.opacity = '0';
                    card.style.transform = 'translateX(100%)';
                    card.style.transition = 'all 0.5s ease';
                    setTimeout(() => {
                        card.remove();
                        // Show a connection notification
                        const notification = document.createElement('div');
                        notification.className = `fixed top-4 right-4 bg-[#0f0f1a] p-4 rounded-lg border border-[${alien.color}] text-[#a2f7e7] text-sm z-50`;
                        notification.innerHTML = `Connection request sent to ${alien.name}`;
                        document.body.appendChild(notification);
                        setTimeout(() => {
                            notification.style.opacity = '0';
                            notification.style.transition = 'opacity 0.5s ease';
                            setTimeout(() => notification.remove(), 500);
                        }, 3000);
                    }, 500);
                });
            }
        }
        
        // Update slider descriptions
        function updateSliderDescriptions() {
            // Telepathic slider
            const telepathicValue = document.getElementById('telepathic-value');
            const telepathicDescription = document.getElementById('telepathic-description');
            const telepathicSlider = document.getElementById('telepathic-slider');
            
            telepathicSlider.addEventListener('input', function() {
                const value = this.value;
                telepathicValue.textContent = value + '%';
                userProfile.telepathic = parseInt(value);
                
                if (value < 30) {
                    telepathicDescription.textContent = 'Minimal thought-mesh capability';
                } else if (value < 70) {
                    telepathicDescription.textContent = 'Moderate thought-mesh capability';
                } else {
                    telepathicDescription.textContent = 'Advanced thought-mesh capability';
                }
            });
            
            // Spore slider
            const sporeValue = document.getElementById('spore-value');
            const sporeDescription = document.getElementById('spore-description');
            const sporeSlider = document.getElementById('spore-slider');
            
            sporeSlider.addEventListener('input', function() {
                const value = this.value;
                sporeValue.textContent = value + '%';
                userProfile.spore = parseInt(value);
                
                if (value < 30) {
                    sporeDescription.textContent = 'Low reproductive harmony';
                } else if (value < 70) {
                    sporeDescription.textContent = 'Moderate reproductive harmony';
                } else {
                    sporeDescription.textContent = 'High reproductive harmony';
                }
            });
            
            // Dimensional slider
            const dimensionalValue = document.getElementById('dimensional-value');
            const dimensionalDescription = document.getElementById('dimensional-description');
            const dimensionalSlider = document.getElementById('dimensional-slider');
            
            dimensionalSlider.addEventListener('input', function() {
                const value = this.value;
                dimensionalValue.textContent = value + '%';
                userProfile.dimensional = parseInt(value);
                
                if (value < 30) {
                    dimensionalDescription.textContent = 'Minimal phase-shifting ability';
                } else if (value < 70) {
                    dimensionalDescription.textContent = 'Limited phase-shifting ability';
                } else {
                    dimensionalDescription.textContent = 'Advanced phase-shifting ability';
                }
            });
        }
        
        // Setup scent selectors
        function setupScentSelectors() {
            const scentSelectors = document.querySelectorAll('.scent-selector');
            
            scentSelectors.forEach(selector => {
                selector.addEventListener('click', function() {
                    // Remove selected class from all selectors
                    scentSelectors.forEach(s => {
                        s.classList.remove('selected');
                        s.style.boxShadow = 'none';
                    });
                    
                    // Add selected class to clicked selector
                    this.classList.add('selected');
                    const color = this.getAttribute('data-color');
                    this.style.boxShadow = `0 0 0 3px ${color}`;
                    
                    // Update user profile
                    userProfile.selectedScent = this.getAttribute('data-scent');
                });
            });
        }
        
        // Save bio text
        function setupBioText() {
            const bioText = document.getElementById('bio-text');
            
            bioText.addEventListener('input', function() {
                userProfile.bio = this.value;
            });
        }
        
        // Generate random time string
        function getRandomTimeString() {
            const units = ['cycles', 'rotations', 'quantum leaps', 'phase shifts'];
            const time = Math.floor(Math.random() * 60) + 1;
            const unit = units[Math.floor(Math.random() * units.length)];
            return `${time} ${unit} ago`;
        }
        
        // Update chats panel
        function updateChatsPanel() {
            const chatsContainer = document.getElementById('chats-container');
            chatsContainer.innerHTML = '';
            
            if (chats.length === 0) {
                // Generate some sample chats
                for (let i = 0; i < 5; i++) {
                    const alien = generateAlien(i);
                    chats.push({
                        alien,
                        message: chatMessages[Math.floor(Math.random() * chatMessages.length)],
                        time: getRandomTimeString(),
                        history: [
                            { sender: 'them', text: chatMessages[Math.floor(Math.random() * chatMessages.length)], time: getRandomTimeString() },
                            { sender: 'me', text: 'Response from user', time: getRandomTimeString() }
                        ]
                    });
                }
            }
            
            chats.forEach((chat, idx) => {
                const chatItem = document.createElement('div');
                chatItem.className = 'chat-item';
                chatItem.style.cursor = 'pointer';
                chatItem.setAttribute('data-chat-index', idx);
                
                chatItem.innerHTML = `
                    <div class="chat-avatar">
                        ${generateAlienSVG(chat.alien.color)}
                    </div>
                    <div class="chat-info">
                        <div class="flex justify-between items-center">
                            <div class="chat-name">${chat.alien.name}</div>
                            <div class="chat-time">${chat.time}</div>
                        </div>
                        <div class="chat-preview">${chat.message}</div>
                    </div>
                `;
                
                chatItem.addEventListener('click', function() {
                    openChatPanel(idx);
                });
                
                chatsContainer.appendChild(chatItem);
            });
        }

        // Open individual chat panel
        function openChatPanel(chatIndex) {
            // Hide the Telepathic Channels panel and overlay if open
            const chatsPanel = document.getElementById('chats-panel');
            const overlay = document.getElementById('overlay');
            if (chatsPanel) chatsPanel.classList.remove('active');
            if (overlay) overlay.classList.remove('active');

            // Create overlay for chat
            let chatOverlay = document.getElementById('chat-overlay');
            if (!chatOverlay) {
                chatOverlay = document.createElement('div');
                chatOverlay.id = 'chat-overlay';
                chatOverlay.className = 'overlay active';
                // Match the overlay color to the rest of the app (same as .overlay in CSS)
                chatOverlay.style.background = 'rgba(0, 0, 0, 0.5)';
                chatOverlay.style.zIndex = 99;
                document.body.appendChild(chatOverlay);
            } else {
                chatOverlay.classList.add('active');
                chatOverlay.style.background = 'rgba(0, 0, 0, 0.5)';
                chatOverlay.style.zIndex = 99;
            }

            // Create chat modal
            let chatModal = document.getElementById('chat-modal');
            if (!chatModal) {
                chatModal = document.createElement('div');
                chatModal.id = 'chat-modal';
                chatModal.className = 'fixed top-1/2 left-1/2 bg-[#0f0f1a] border border-[#a2f7e7]/30 rounded-lg shadow-lg z-100';
                chatModal.style.transform = 'translate(-50%, -50%)';
                chatModal.style.width = '350px';
                chatModal.style.maxWidth = '95vw';
                chatModal.style.maxHeight = '80vh';
                chatModal.style.display = 'flex';
                chatModal.style.flexDirection = 'column';
                chatModal.style.overflow = 'hidden';
                document.body.appendChild(chatModal);
            } else {
                chatModal.style.display = 'flex';
            }

            // Get chat data
            const chat = chats[chatIndex];

            // Modal content
            chatModal.innerHTML = `
                <div class="flex items-center justify-between px-4 py-3 border-b border-[#a2f7e7]/20 bg-[#0a0a14]">
                    <div class="flex items-center">
                        <div class="w-10 h-10 rounded-full overflow-hidden border border-[${chat.alien.color}]/50 mr-2">
                            ${generateAlienSVG(chat.alien.color)}
                        </div>
                        <div>
                            <div class="font-bold text-[#a2f7e7]">${chat.alien.name}</div>
                            <div class="text-xs text-[#a2f7e7]/50">${chat.alien.type} • ${chat.alien.cycle} cycles</div>
                        </div>
                    </div>
                    <button id="close-chat-modal" class="text-[#a2f7e7]/70 hover:text-[#ff00ff] text-lg">&times;</button>
                </div>
                <div id="chat-history" class="flex-1 px-4 py-3 overflow-y-auto bg-[#0f0f1a]" style="min-height:180px;max-height:300px;"></div>
                <form id="chat-form" class="flex items-center border-t border-[#a2f7e7]/20 bg-[#0a0a14] px-2 py-2">
                    <input id="chat-input" type="text" class="flex-1 bg-transparent border border-[#a2f7e7]/30 rounded-md px-3 py-2 text-[#a2f7e7] focus:outline-none mr-2" placeholder="Send a telepathic message..." autocomplete="off" />
                    <button type="submit" class="alien-button px-3 py-2 rounded-md text-xs">SEND</button>
                </form>
            `;

            // Render chat history
            function renderChatHistory() {
                const chatHistory = chatModal.querySelector('#chat-history');
                chatHistory.innerHTML = '';
                chat.history.forEach(msg => {
                    const msgDiv = document.createElement('div');
                    msgDiv.className = `mb-2 flex ${msg.sender === 'me' ? 'justify-end' : 'justify-start'}`;
                    msgDiv.innerHTML = `
                        <div class="max-w-[70%] px-3 py-2 rounded-lg text-sm ${msg.sender === 'me' ? 'bg-[#a2f7e7]/20 text-[#a2f7e7] ml-auto' : 'bg-[${chat.alien.color}]/20 text-[${chat.alien.color}] mr-auto' }">
                            ${msg.text}
                        </div>
                    `;
                    chatHistory.appendChild(msgDiv);
                });
                chatHistory.scrollTop = chatHistory.scrollHeight;
            }
            renderChatHistory();

            // Close modal
            // Restore: close chat when clicking anywhere on overlay (including X button)
            chatOverlay.onclick = function(e) {
                chatModal.style.display = 'none';
                chatOverlay.classList.remove('active');
                // Restore overlay if Telepathic Channels panel is open
                const chatsPanel = document.getElementById('chats-panel');
                const overlay = document.getElementById('overlay');
                if (chatsPanel && chatsPanel.classList.contains('active') && overlay) {
                    overlay.classList.add('active');
                }
            };

            // Send message
            chatModal.querySelector('#chat-form').onsubmit = function(e) {
                e.preventDefault();
                const input = chatModal.querySelector('#chat-input');
                const text = input.value.trim();
                if (text) {
                    chat.history.push({ sender: 'me', text, time: new Date().toLocaleTimeString() });
                    input.value = '';
                    renderChatHistory();
                    // Focus input after sending
                    input.focus();
                    // Optionally, simulate a reply
                    setTimeout(() => {
                        chat.history.push({ sender: 'them', text: chatMessages[Math.floor(Math.random() * chatMessages.length)], time: new Date().toLocaleTimeString() });
                        renderChatHistory();
                    }, 1200);
                }
            };
            // Focus input when modal opens
            setTimeout(() => {
                const input = chatModal.querySelector('#chat-input');
                if (input) input.focus();
            }, 100);
        }
        
        // Update requests panel
        function updateRequestsPanel() {
            const requestsContainer = document.getElementById('requests-container');
            requestsContainer.innerHTML = '';
            
            if (connectionRequests.length === 0) {
                const emptyMessage = document.createElement('div');
                emptyMessage.className = 'text-center text-[#a2f7e7]/50 py-4';
                emptyMessage.textContent = 'No connection requests sent yet';
                requestsContainer.appendChild(emptyMessage);
                return;
            }
            
            connectionRequests.forEach(request => {
                const requestItem = document.createElement('div');
                requestItem.className = 'request-item';
                
                const timeAgo = getRandomTimeString();
                
                requestItem.innerHTML = `
                    <div class="request-avatar">
                        ${generateAlienSVG(request.alien.color)}
                    </div>
                    <div class="request-info">
                        <div class="flex justify-between items-center">
                            <div class="request-name">${request.alien.name}</div>
                            <div class="request-time">${timeAgo}</div>
                        </div>
                        <div class="request-status">${request.status}</div>
                    </div>
                `;
                
                requestsContainer.appendChild(requestItem);
            });
        }
        
        // Setup dropdown menu
        function setupDropdownMenu() {
            const menuButton = document.getElementById('menu-button');
            const dropdownMenu = document.getElementById('dropdown-menu');
            const overlay = document.getElementById('overlay');
            
            menuButton.addEventListener('click', function(e) {
                e.stopPropagation();
                dropdownMenu.classList.toggle('active');
            });
            
            document.addEventListener('click', function() {
                dropdownMenu.classList.remove('active');
            });
            
            dropdownMenu.addEventListener('click', function(e) {
                e.stopPropagation();
            });
            
            // Chats option
            document.getElementById('chats-option').addEventListener('click', function() {
                dropdownMenu.classList.remove('active');
                document.getElementById('chats-panel').classList.add('active');
                overlay.classList.add('active');
                updateChatsPanel();
            });
            
            // Requests option
            document.getElementById('requests-option').addEventListener('click', function() {
                dropdownMenu.classList.remove('active');
                document.getElementById('requests-panel').classList.add('active');
                overlay.classList.add('active');
                updateRequestsPanel();
            });
            
            // Close panels
            document.getElementById('close-chats-panel').addEventListener('click', function() {
                document.getElementById('chats-panel').classList.remove('active');
                overlay.classList.remove('active');
            });
            
            document.getElementById('close-requests-panel').addEventListener('click', function() {
                document.getElementById('requests-panel').classList.remove('active');
                overlay.classList.remove('active');
            });
            
            // Close panels when clicking overlay
            overlay.addEventListener('click', function() {
                document.getElementById('chats-panel').classList.remove('active');
                document.getElementById('requests-panel').classList.remove('active');
                overlay.classList.remove('active');
            });
        }
        
        // Navigation functions
        function setupNavigation() {
            // Login to Profile
            document.getElementById('login-button').addEventListener('click', function() {
                document.getElementById('login-screen').classList.remove('active');
                document.getElementById('profile-screen').classList.add('active');
            });
            
            // Profile to Login
            document.getElementById('logout-button').addEventListener('click', function() {
                document.getElementById('profile-screen').classList.remove('active');
                document.getElementById('login-screen').classList.add('active');
            });
            
            // Profile to Matches
            document.getElementById('to-matches-button').addEventListener('click', function() {
                document.getElementById('profile-screen').classList.remove('active');
                document.getElementById('matches-screen').classList.add('active');
                generateMatches();
            });
            
            // Find Matches button
            document.getElementById('find-matches-button').addEventListener('click', function() {
                document.getElementById('profile-screen').classList.remove('active');
                document.getElementById('matches-screen').classList.add('active');
                generateMatches();
            });
            
            // Matches to Profile
            document.getElementById('back-to-profile-button').addEventListener('click', function() {
                document.getElementById('matches-screen').classList.remove('active');
                document.getElementById('profile-screen').classList.add('active');
            });
            
            // Expand search button
            document.getElementById('expand-search-button').addEventListener('click', function() {
                generateMatches();
                
                // Show a notification
                const notification = document.createElement('div');
                notification.className = 'fixed top-4 right-4 bg-[#0f0f1a] p-4 rounded-lg border border-[#a2f7e7] text-[#a2f7e7] text-sm z-50';
                notification.innerHTML = 'Search parameters expanded to neighboring galaxies';
                document.body.appendChild(notification);
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transition = 'opacity 0.5s ease';
                    setTimeout(() => notification.remove(), 500);
                }, 3000);
            });
        }
        
        // Initialize everything
        function init() {
            updateSliderDescriptions();
            setupScentSelectors();
            setupBioText();
            setupNavigation();
            setupDropdownMenu();
        }
        
        // Run initialization when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95bd6c29f711ca3f',t:'MTc1MTk1NTA2OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
